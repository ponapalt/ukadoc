# SSPメッセンジャ：送信先の追加

送信先をIPアドレスとポート番号で指定するのは、面倒でしばしばミスを伴います。

相手や自分が、ダイヤルアップ接続のインターネット経由でメッセージのやりとりを行う場合も、接続するたびに双方ともIPアドレスが変化したりして、設定に苦労します。

そこで登場するのが、ディレクトリサービスです。

ユーザID(メールアドレス)を指定することで、同じディレクトリサービスにログインしている個人を名前だけで参照できるようになります。SSPでは、「SSPと愉快な仲間たち」がパスワードなしで自由に使うことが出来る、デフォルトサーバになっています。

※自分を公開する代わりに相手の情報が引き出せるサービスです。なので、たとえ自分が固定IPであっても、変動IPの人を探す場合はディレクトリサービスにログインする必要があります。

※公開および引き出せる情報は、IPアドレスとSSTP受信待ちをしているポート番号の２つだけです。

また、使用頻度は少ないと思いますが、 (インターネットであろうがローカルネットワークであろうが)双方が固定IPであれば、ローカルに名前とIPの組合せを保存して使うことも出来ますし、そのほうが問い合わせを省略する分、すぐに相手に送信できます。

## ディレクトリサービスのユーザを登録する

『登録』から『宛先の追加』メニューを押すと出てくるダイアログで、まずは「ディレクトリサービス」を選択します。

続いて、相手の名前とグループを入力します。(この２つは、SSPに登録されている情報を識別するために使用されます)

相手がログインしているディレクトリサービスを選択します。ディレクトリサービスは[設定ダイアログ](config-im.html)で登録します。

ユーザIDは、通常相手のメールアドレスを入れますが、あくまで相手がログインに使ってるユーザIDでなければならないので、相手に訊いてみましょう。

以上で登録は完了です。あとは、送信しようとした時に自動的に相手のアドレスを取得して、送信してくれます。

## IPアドレスを直接指定してユーザを登録する

『登録』から『宛先の追加』メニューを押すと出てくるダイアログで、「アドレス指定」を選択します。

続いて、相手の名前とグループを入力します。(この２つは、SSPに登録されている情報を識別するために使用されます)

相手のIPアドレスと、SSPメッセンジャ用に使用している相手のポート番号を指定します。

以上で登録は完了です。
