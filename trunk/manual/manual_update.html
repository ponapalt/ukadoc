<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link rel="stylesheet" href="../style.css" type="text/css">
<base target="_blank">
<title>UKADOC Project Update</title>
</head>
<body>



<div class="baseflame">
	<h1 class="head">
		<iframe height="154" width="750" frameborder="0" marginheight="1" marginwidth="1" scrolling="no" src="../navigation.html" name="navigation">
			UKADOC Project(Powered by Disc-2)
		</iframe>
	</h1>
	<div class="body">
		<div class="sidebar">
			<iframe height="1100" width="200" frameborder="0" marginheight="1" marginwidth="1" scrolling="no" src="sidemenu.html" name="sidemenu"></iframe>
		</div>
		<div class="text">
			<h2>Update</h2>
			<div class="chapter">
				<div class="section">
					<p>※初心者の方は「<a href="dev_update.html" target="_top">ネットワーク更新に対応する</a>」のページも参照の事。</p>
				</div>
				<div class="section">
					<p>ネットワーク更新ではゴーストの全てのファイルが更新可能である。</p>
				</div>
				<div class="section">
					<p>updates2.dauの作成</p>
					<p>更新用URL（サーバ）の設定</p>
					<p>サーバへのファイル配置</p>
					<p>3つがそろってはじめて可能になる。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">updates2.dau</h3>
					<p>更新用ファイルを作成するにはまず、適当なフォルダに更新用ファイルを、<br>ディレクトリ階層をそのまま再現して配置する。</p>
					<p>ディレクトリの一番上の階層にupdates2.dauという空のtxtファイルを作る（SSPは勝手に作ってくれる）。</p>
					<p>そのフォルダを本体にD&amp;DするとファイルのMD5が計算されupdates2.dauに書き込まれる。</p>
					<p>フォルダの中身をサーバにそのままアップロードすれば更新用ファイルが出来上がる。</p>
				</div>
				<div class="section">
					<p>サーバにファイルをアップロードする時は<strong>必ずバイナリモードでアップロードしなくてはならない</strong>。</p>
					<p>本体にD&amp;Dする時、install.txtがあるとそちらが優先されてnarファイルを作ってしまうので注意。</p>
					<p>SSPの場合はD&amp;D時の挙動は本体設定から設定可能。</p>
				</div>
				<div class="section">
					<h3 class="component">updates.txt</h3>
					<p>updates2.dauとほぼ同じ扱い。</p>
					<p>拡張子制限でdauがアップロードできない等の問題を解決できる。</p>
					<p>ディレクトリの一番上の階層に配置する。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">更新用URL</h3>
					<p>SHIORI Eventで指定する。</p>
					<p>記述は各SHIORIにて。</p>
					<p>サーバ側のupdates2.dauの場所を指定する。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">delete.txt</h3>
					<p>このテキストに書かれたファイルを消去することができる。</p>
					<p>サーバ側のupdates2.dauと同じ位置に配置する。</p>
					<p>不要になったファイルが肥大するのを防ぐのに使う。</p>
				</div>
				<div class="section">
<pre class="exmp-descript2">
ghost\master\ai.dtx
shell\master\surface0.png
</pre>
				</div>
				<div class="section">
					<p>上記のようにゴーストのホームディレクトリからの相対パスで記載する。</p>
					<p>delete.txtはそのまま存在しつづけるため<br>内容を変更しない限り記載されたファイルが再び置かれても消されつづける。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">updates_def.txt</h3> 
					<p>SSPのみ。</p>
					<p>相対パスで書いておくと、更新ファイル作成時にそれを無視する。</p>
				</div>
				<div class="section">
<pre class="exmp-descript2">
ghost/maste/profile/mainform.txt,ignore
ghost/master/profile/var.txt,ignore
shell/master/profile/bind.txt,ignore
shell/master/profile/keroform.txt,ignore
shell/master/profile/mainform.txt,ignore
shell/master/profile/crow.ini,ignore
</pre>
				</div>
				<div class="section">
					<h3 class="component">developer_options.txt</h3>
					<p>SSPのみ。</p>
					<p>updates_def.txtの改修版。NARに含めないものも指定可。</p>
				</div>
				<div class="section">
<pre class="exmp-descript2">
ghost/master/profile/,nonar,noupdate
shell/master/profile/,nonar,noupdate
</pre>
				</div>
				<div class="section">
					<p>なお、以下のフォルダやファイルは指定しなくても自動的に除外される</p>
					<br>
					<p>ファイル</p>
					<ul>
						<li>desktop.ini</li>
						<li>thumbs.db</li>
						<li>folder.htt</li>
						<li>mscreate.dir</li>
						<li>.DS_Store</li>
						<li>_CATALOG.VIX</li>
					</ul>
					<br>
					<p>ディレクトリ</p>
					<ul>
						<li>profile</li>
						<li>var</li>
						<li>__MACOSX</li>
						<li>XtraStuf.mac</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<div class="foot">
		<p class="disc2-author">
			管理人 : <a href="http://code.google.com/p/ukadoc/" target="_blank">UKADOC Project(文書内容)</a> / <a href="http://khmix.sakura.ne.jp/" target="_blank">緋龍華 麒麟(サイト)</a>
		</p>
		<p class="disc2-banner">
			<img src="../image/disc_2.gif" width="200" height="40" border="0" alt="Disc-2">
		</p>
	</div>
</div>



</body>
</html>
<!--nobanner-->
