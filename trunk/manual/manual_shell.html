<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="robots" content="index,follow">
<meta name="author" content="UKADOC Project">
<meta name="keywords" content="ukadoc,伺か,シェル">
<link rel="stylesheet" href="style.css" type="text/css">
<base target="_blank">
<title>UKADOC Project Shell</title>
</head>
<body>



<div class="baseflame">
	<h1 class="head">
		<iframe height="160" width="750" frameborder="0" marginheight="1" marginwidth="1" scrolling="no" src="navigation.html" name="navigation">
			UKADOC Project(Powered by Disc-2)
		</iframe>
	</h1>
	<div class="body">
		<div class="sidebar">
			<iframe height="1100" width="200" frameborder="0" marginheight="1" marginwidth="1" scrolling="no" src="sidemenu.html" name="sidemenu"></iframe>
		</div>
		<div class="text">
			<h2>Shell</h2>
			<div class="chapter">
				<div class="section">
					<p>シェルフォルダのファイルは以下の通り。</p>
				</div>
				<div class="section">
<pre>
home
　+-ghost
　　　+-myghost
　　　　　+-shell
　　　　　　　+-master
　　　　　　　　　<em>+-descript.txt</em>
　　　　　　　　　<em>+-surface*.png</em>
　　　　　　　　　<em>+-surface*.pna</em>
　　　　　　　　　<em>+-surfaces.txt</em>
　　　　　　　　　<em>+-makoto.dll</em>
　　　　　　　　　+-menu_background.png
　　　　　　　　　+-menu_foreground.png
　　　　　　　　　+-menu_sidebar.png
　　　　　　　　　<em>+-readme.txt</em>
　　　　　　　　　<em>+-thumbnail.png</em>
　　　　　　　　　<em>+-surfaces**.txt</em> （SSPのみ）
　　　　　　　　　<em>+-surfacetable.txt</em> (SSPのみ)
</pre>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component"><a href="descript_shell.html" target="_top">descript.txt</a></h3>
					<p>シェルを識別するためのファイル。</p>
					<p>テキスト内の記載事項はリンク先を参照。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">surface*.png</h3>
					<p>サーフェスファイル。</p>
					<p>デスクトップに表示される絵。</p>
					<p>対応形式はPNGのみ。</p>
					<p>画像サイズ、色数に制限は無い。</p>
				</div>
				<div class="section">
					画像左上の1ドット(座標0,0)と同色が透過される。
				</div>
				<div class="section">
					サーフェスの番号にはある程度の推奨する割り振りがある。
					必ずこの番号にする必要は無いが00と10のみは必須。

					<table class="exmp-surfacenum">
						<tr>
							<td colspan="2">sakura側</td>
						</tr>
						<tr>
							<td>00</td><td>素</td>
						</tr>
						<tr>
							<td>01</td><td>照れ</td>
						</tr>
						<tr>
							<td>02</td><td>驚き</td>
						</tr>
						<tr>
							<td>03</td><td>不安</td>
						</tr>
						<tr>
							<td>04</td><td>落ち込み</td>
						</tr>
						<tr>
							<td>05</td><td>微笑み</td>
						</tr>
						<tr>
							<td>06</td><td>目閉じ</td>
						</tr>
						<tr>
							<td>07</td><td>怒り</td>
						</tr>
						<tr>
							<td>08</td><td>冷笑</td>
						</tr>
						<tr>
							<td>09</td><td>照れ怒り</td>
						</tr>
						<tr>
							<td>25</td><td>歌</td>
					</table>
					<table class="exmp-surfacenum">
						<tr>
						<td colspan="2">kero側</td>
						</tr>
						<tr>
						<td>10</td><td>素</td>
						</tr>
						<tr>
						<td>11</td><td>刮目</td>
						</tr>
						<tr>
						<td>19</td><td>歌</td>
						</tr>
					</table>
				</div>
				<div class="section">
					<p>サーフェス番号は0～8192まで使える。(MATERIA仕様)</p>
					<p>他のベースウェアには制限が無い。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">surface*.pna</h3>
					<p>サーフェスのアルファチャンネル定義ファイル。</p>
					<p>PNA自体はPNGをリネームしたもの。</p>
					<p>サーフェス番号と同じ番号のpnaファイルを置くことによってサーフェスの半透明化ができる。</p>
				</div>
				<div class="section">
					<table class="exmp-surface">
						<tr>
							<td><img src="image/surface0_png1.jpg" width="163" height="300" alt=""></td>
							<td class="cell_arrow">→</td>
							<td><img src="image/surface0_pna.jpg" width="163" height="300" alt=""></td>
							<td class="cell_arrow">→</td>
							<td><img src="image/surface0_png2.jpg" width="163" height="300" alt=""></td>
						</tr>
						<tr>
							<td>surface0.png</td>
							<td></td>
							<td>surface0.pna</td>
							<td></td>
							<td>デスクトップの表示</td>
						</tr>
					</table>
				</div>
				<div class="section">
					<p>ただし、Windows2000/XPでULWモードを使用したときのみ。</p>
					<p>Windows9xではpnaは無視される。</p>
					<p>また、透過が完全でない場所は当たり判定が発生する。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component"><a href="descript_shell.html">surfaces.txt</a></h3>
					<p>サーフェスのID割り当て、レイヤー合成、アニメーション、当たり判定などを定義するファイル。</p>
				</div>
				<div class="section">
<pre class="exmp-descript2">
descript
{
version,1
}

surface0
{
collision0,188,25,252,63,Head
collision1,190,92,236,118,Face
collision2,180,191,220,222,Bust
collision3,154,311,248,362,Skirt
point.centerx,212
point.centery,198
point.kinoko.centerx,214
point.kinoko.centery,34

animation0.interval,sometimes
animation0.pattern0,overlay,101,10,168,67
animation0.pattern1,overlay,100,10,168,67
animation0.pattern2,overlay,101,10,168,67
animation0.pattern3,overlay,-1,10,168,67
}

surface10
{
collision0,40,56,95,90,Head
point.centerx,70
point.centery,66
sakura.balloon.offsetx,80
sakura.balloon.offsety,-100
kero.balloon.offsetx,-30
kero.balloon.offsety,20
}
</pre>
				</div>
				<div class="section">
					<p>上記のように定義し各サーフェスのプレス内に記述する。</p>
					<p>定義内容については<a href="descript_shell.html">surfaces.txt</a>参照。</p>
				</div>
				<div class="section">
					下記のように複数のサーフェスを同時に定義することも可能。
				</div>
				<div class="section">
<pre class="exmp-descript2">
surface0,surface1
{
animation0.interval,sometimes
animation0.pattern0,overlay,101,10,168,67
animation0.pattern1,overlay,100,10,168,67
animation0.pattern2,overlay,101,10,168,67
animation0.pattern3,overlay,-1,10,168,67
}
</pre>
				</div>
				<div class="section">
					また、SSPのみ下記のような範囲指定や複数指定が可能。
				</div>
				<div class="section">
<pre class="exmp-descript2">
surface0-9,25
{
animation0.interval,sometimes
animation0.pattern0,overlay,101,10,168,67
animation0.pattern1,overlay,100,10,168,67
animation0.pattern2,overlay,101,10,168,67
animation0.pattern3,overlay,-1,10,168,67
}
</pre>
				</div>
				<div class="section">
					さらにSSPのみ下記のような定義の追加も可能。
				</div>
				<div class="section">
<pre class="exmp-descript2">
surface.append0-9,25
{
collision0,188,25,252,63,Head
collision1,190,92,236,118,Face
collision2,180,191,220,222,Bust
collision3,154,311,248,362,Skirt
}
</pre>
				</div>
				<div class="section">
					!で除外設定もできる。
				</div>
				<div class="section">
<pre class="exmp-descript2">
surface.append0-9,25,!5-8
{
collision0,188,25,252,63,Head
collision1,190,92,236,118,Face
collision2,180,191,220,222,Bust
collision3,154,311,248,362,Skirt
}
</pre>
				</div>
				<div class="section">
					サーフェスIDはエイリアスで任意IDに変更する事ができる。
				</div>
				<div class="section">
<pre class="exmp-descript2">
sakura.surface.alias
{
smile,[5]
} 

kero.surface.alias
{
10,[10,11,12]
} 
</pre>
				</div>
				<div class="section">
					<p>とすると\s[5]を\s[smile]とする事も可能。</p>
					<p>また、上記のようにする事で\s[10]をID10、11、12からランダムにすることができる。</p>
				</div>
				<div class="section">
					char*.surface.aliasで2人目以降の相方側のエイリアスも可能。(SSP専用)
				</div>
				<div class="section">
					アニメーション、着せ替えについては<a href="manual_animation.html">アニメーション</a>を参照。
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component"><a href="descript_shell.html">surfaces**.txt</a></h3>
					<p>SSP専用。</p>
					<p>**にはsurfaces2.txt、surfaces3.txt～surfaceZZ.txt、2文字以下の文字がつけられる。。</p>
					<p>surfaces2.txtは2.01系以降、任意の2文字以下がつけられるようになったのは2.2.57以降。</p>
					<p>機能は<em>surfaces.txt</em>と同じ。</p>
					<p>互換性を維持しつつSSP専用の機能を使うためのもの。</p>
					<p>必要な部分のみを追記する形でも問題ない。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component"><a href="manual_translator.html">makoto.dll</a></h3>
					<p>トランスレート機能を使うためのもの。</p>
					<p>ゴースト側に用意できるものと同じ。シェル側のほうが後に変換される。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">readme.txt</h3>
					<p>シェルメニューのRead Me! ボタンを押した時に表示されるテキスト。</p>
					<p>ゴースト製作者ではないシェル製作者が配布元などを記載するためのもの。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">thumbnail.png</h3>
					<p>メニューツリーでシェルの選択時に表示されるサムネイル。</p>
					<p>使用可能な画像形式はpngもしくはjpg。</p>
					<p>pngをpnrにリネームすると画像左上の1ドット(座標0,0)と同色が透過される。</p>
					<p>このファイルは省略可能。</p>
				</div>
			</div>
			<div class="chapter">
				<div class="section">
					<h3 class="component">surfacetable.txt</h3>
					<p>SSP専用。</p>
				</div>
				<div class="section">
<pre class="exmp-descript2">
0,素(さくら)
10,素(うにゅう)
</pre>
				</div>
				<div class="section">
					上記のような記述のテキストをフォルダに置くとサーフェステストウィンドウの表示が代替される。
				</div>
				<div class="section">
					version 1.0書式での場合
				</div>
				<div class="section">
<pre class="exmp-descript2">
charset,Shift_JIS
version,1
option,DisableNoDefineSurfaces

group,さくら
{
scope,0

0,素
1,照れ
3,不安
4,落ち込み
7,怒り
}

group,うにゅう
{
scope,1

10,素
11,つり目
}

//非表示設定
group,__disabled
{
19,__parts
}
</pre>
				</div>
				<div class="section">
					<p>charset,Shift_JISは1行目に必要。</p>
					<p>charsetは理由がない限りはShift_JISでよい。</p>
				</div>
				<div class="section">
					version,1はversion 1.0フォーマットを使用するのに必要。
				</div>
				<div class="section">
					option,DisableNoDefineSurfacesは指定のないサーフェスを除外するオプション。
				</div>
				<div class="section">
					グループ名を__disabledにするとそのサーフェスグループをリストに表示しない。
				</div>
			</div>
		</div>
	</div>
	<div class="foot">
		<p class="disc2-author">
			管理人 : <a href="http://code.google.com/p/ukadoc/" target="_blank">UKADOC Project(文書内容)</a> / <a href="http://khmix.sakura.ne.jp/" target="_blank">緋龍華 麒麟(サイト)</a>
		</p>
		<p class="disc2-banner">
			<img src="image/ukadoc_banner1.png" width="200" height="40" alt="ukadocバナー">
		</p>
	</div>
</div>



</body>
</html>
<!--nobanner-->
