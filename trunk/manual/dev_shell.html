<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="robots" content="INDEX,FOLLOW">
<meta name="author" content="UKADOC Project">
<meta name="keywords" content="ukadoc,伺か,シェル">
<title>UKADOC Project シェルの作成</title>
<link rel="stylesheet" href="base.css">
<!--[if lt IE 9]><script src="html5shiv.js"></script><![endif]-->
</head>
<body>
<section class="baseframe">
	<h1 class="head">
		<iframe src="navigation.html" id="navigation" name="navigation" title="ukadoc navigation">
			UKADOC Project(Powered by Disc-2)
		</iframe>
	</h1>
	<section class="body">
		<nav class="sidebar">
			<iframe src="sidemenu.html" id="sidemenu" name="sidemenu" title="ukadoc sidemenu"></iframe>
		</nav>
		<section class="text">



<!-- /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
<h1>シェルの作成</h1>
<section>
	<h1>1、立ち絵となる絵を用意する</h1>
	<div class="passage">
		自分で絵を描く、もしくはフリーシェルと称される用意されたサーフェスを使用します。
	</div>
	<div class="passage">
		<p>ゴーストにおける画像形式の基本はpngです。</p>
		<p>jpg、bmp等は使えません。</p>
		<p>pngを使用していれば大きさ、色数に制限はありません。</p>
		<p>ファイルサイズを小さくしたい場合は減色してください。</p>	
	</div>
	<div class="passage">
		<p>まずは<em class="filename">surface0.png</em>と<em class="filename">surface10.png</em>を用意します。</p>
		<p>この二枚の画像(サーフェス)は必須です。</p>
		<p><em class="filename">surface0.png</em>はメイン側の基本立ち絵、<em class="filename">surface10.png</em>は相方側の基本立ち絵となります。</p>
		<p>相方が要らない場合は<em class="filename">surface10.pngを</em>単色で塗り潰した画像(全て透明のサーフェス)を使用してください。</p>
	</div>
	<div class="passage">
		サーフェスは<em class="filename">surface0000.png</em>、<em class="filename">surface0010.png</em>等の様に記述しても<em class="filename">surface0</em>、<em class="filename">surface10</em>と認識されます。
	</div>
	<div class="passage">
		<h4>・画像の透過について</h4>
		<p>サーフェス画像では左上端の1ドットが抜け色となります。</p>
		<p>なので、左上端の1ドットと同じ色がキャラクター内にあった場合その部分も透過されてしまいますので、キャラクターには使用していない系統の色で塗り潰してください。</p>
	</div>
	<div class="passage">
		<table class="exmp-surface">
			<tr>
				<td><img src="image/surface0_alias1.gif" width="225" height="239" alt=""></td>
				<td class="cell_arrow">→</td>
				<td><img src="image/surface0_alias2.gif" width="225" height="239" alt=""></td>
			</tr>
		</table>
		<p>キャラクターの輪郭が半透明になっていると背景と混ざって右のように表示されてしまいます。</p>
		<table class="exmp-surface">
			<tr>
				<td><img src="image/surface0_alias3.gif" width="225" height="239" alt=""></td>
				<td class="cell_arrow">→</td>
				<td><img src="image/surface0_alias4.gif" width="225" height="239" alt=""></td>
			</tr>
		</table>
		<p>この様に輪郭が背景と混ざらないようにすると綺麗に色が抜けます。</p>
		<br>
		<p>Photoshopをして作成する場合、<a href="http://homepage3.nifty.com/khsoft/cbs/">ClearBrain Systems</a>の<a href="http://homepage3.nifty.com/khsoft/cbs/software/">シェル＆縮小サーフェス制作補助プラグインセット for Photoshop</a>を使うと効率よく作業ができると思います。</p>
	</div>
	<div class="passage">
		<p>半透明にするには半透明にしたい画像と同じファイル名のpnaを作ります。</p>
		<p>pnaはアルファチャンネル定義用のpngをリネームしたものです。</p>
	</div>
	<table class="exmp-surface">
		<tr>
			<td><img src="image/surface0_png1.jpg" width="163" height="300" alt=""></td>
			<td class="cell_arrow">→</td>
			<td><img src="image/surface0_pna.jpg" width="163" height="300" alt=""></td>
			<td class="cell_arrow">→</td>
			<td><img src="image/surface0_png2.jpg" width="163" height="300" alt=""></td>
		</tr>
		<tr>
			<td>surface0.png</td>
			<td></td>
			<td>surface0.pna</td>
			<td></td>
			<td>デスクトップの表示</td>
		</tr>
	</table>
	<div class="passage">
		<p>pnaで白くした部分が残り黒くした部分が透明となります。</p>
		<p>またその度合いにより半透明が出来ます。</p>
	</div>
	<div class="passage">
		<p>半透明の部分はキャラクターとしてクリックできます。</p>
		<p>ですので透明部分は完全な黒(RGBが0,0,0)色にしてください。</p>
	</div>
</section>
<section>
	<h1>2、descript.txtを書く</h1>
	<div class="passage">
		<p>シェルを作るにあたってdescript.txtの中身が書かれていなければ</p>
		<p>本体に認識されません。</p>
	</div>
	<div class="passage">
		<p>まずは以下の内容をコピーしてdescript.txtという名前のテキストに貼り付け</p>
		<p>自分のゴーストに適切なネームへ変更してください。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript">
charset,Shift_JIS

name,このシェルの名前
id,このシェルのIDもしくは名前(英数のみで書いてください)

craftman,制作者名(英数のみで書いてください)
craftmanw,一覧などで使用する制作者名(日本語表記でも可能)
craftmanurl,制作者のURL(http://～など)
</pre>
	</div>
	<div class="passage">
		<p>charsetは基本的にShift_JISにしておいてください。</p>
	</div>
	<div class="passage">
		<p>シェル全体の基本バルーン位置を変えるには</p>
<pre class="exmp-descript">
sakura.balloon.offsetx,0
sakura.balloon.offsety,0
kero.balloon.offsetx,0
kero.balloon.offsety,0
</pre>
		<p>という項目を足してください。</p>
		<p>sakura.balloon.offsetがメイン側、kero.balloon.offsetが相方側のバルーン位置の変更になります。</p>
		<p>数字を増やすとx座標はキャラクター寄りにy座標は下に表示されます。</p>
		<p>マイナスをつけると表示位置が逆の方向になり、x座標はキャラクターから離れ、y座標は上に表示されるようになります。</p>
	</div>
</section>
<section>
	<h1>3a、surfaces.txtを書く - 当たり判定編</h1>
	<div class="passage">
		当たり判定もアニメーション同様に指定したサーフェスのプレス内に記述します。
	</div>
	<div class="passage">
<pre class="exmp-descript2">
<em class="filename">surface0</em>
<em class="filename">{</em>
animation0.interval,sometimes
animation0.pattern0,overlayfast,100,5,0,0
animation0.pattern1,overlayfast,101,5,0,0
animation0.pattern2,overlayfast,100,5,0,0
animation0.pattern3,overlay,-1,10,0,0

<em class="filename">collision0,117,71,185,130,Face</em>
<em class="filename">collision1,115,174,174,217,Bust</em>
<em class="filename">}</em>
</pre>
	</div>
	<div class="passage">
		<p>上のように当たり判定１箇所ごとにcollision0、collision1、collision2と順番に書いていきます。</p>
		<p>最後の文字列はイベントで使われる当たり判定のIDになります。</p>
		<p>1サーフェスの最大辺り判定個数は256個です。</p>
	</div>
	<div class="passage">
		<p>当たり判定は<a href="http://www.geocities.co.jp/SiliconValley-Cupertino/8536/" target="_blank">Coordin</a>を使うと簡単に座標を取得出ます。</p>
		<p>Coordinに画像をドロップしドラッグで四角い当たり判定を作ります。</p>
		<p>自動的にクリップボードに座標がコピーされているので当たり判定の数字の部分を置き換えてください。</p>
	</div>
	<div class="passage">
		MATERIAの設定で開発インターフェイスにチェックするとオーナードローメニューから当たり判定領域を確認できるようになります。
	</div>
</section>
<section>
	<h1>3b、surfaces.txtを書く - アニメーション編</h1>
	<div class="passage">
		<p>伺かにおけるアニメーション（SERIKOと呼ばれます）は、静止画を連続で描画する事で表現されます。</p>
		<p>ここではアニメーションの実行タイミング、一枚一枚の静止画の重なり方等の設定方法について簡単に紹介します。</p>
	</div>
	<div class="passage">
		<p>まずはアニメーションの表示方法や順番を書くためのsurfaces.txtというテキストを作ります。</p>
		<p>その後、まずは以下を追記して下さい。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript">
charset,Shift_JIS

descript
{
version,1
}
</pre>
	</div>
	<div class="passage">
		<p>先頭の一行はdescript.txtのものと同じ文字コードの指定です。特に理由がなければShift_JISで構いません。</p>
		<p>それより下の記述は、アニメーションの定義方法に関するバージョンの設定です。</p>
		<p>もしこの記述が無い場合は、アニメーション関係を旧来の定義（SERIKO/1.x）で書かねばなりません。</p>
		<p>ここにある例は、新しい定義（SERIKO/2.0）によるものなので、注意して下さい。</p>
	</div>
	<div class="passage">
		<h4>・surfaces.txt変換ツール</h4>
		<p>以下のツールを用いて旧定義から新定義に変換する事も可能です。</p>
		<p><a href="http://typehoon.kusakage.com/zip/SurfacesTxtConverter.zip">surfaces.txtを旧定義から新定義に変換するツール</a></p>
		<p>使用方法：解凍された.exeをsurfaces.txtと々フォルダで実行して下さい。</p>
	</div>
	<div class="passage">
		<p>以下surface0をまばたきをさせる例でアニメーションを説明します。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript">
surface0
{
animation0.interval,sometimes
animation0.pattern0,overlayfast,100,5,0,0
animation0.pattern1,overlayfast,101,5,0,0
animation0.pattern2,overlayfast,100,5,0,0
animation0.pattern3,overlay,-1,10,0,0
}
</pre>
	</div>
	<div class="passage">
		<p>surface0.pngにアニメーションさせるにはこのようにsurface0と書き、その下のプレス内にアニメーションの内容を定義していきます。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript">
animation0.interval,sometimes
</pre>
		<p>animation*,intervalという行は、その番号のアニメーションが実行されるタイミングの定義です。</p>
		<p>animation*.interval,に続く「sometimes」がタイミング定義の内容になります。</p>
		<p>例のようにsometimesを指定した場合、時々（１秒当たり２分の１の確率）実行されます。</p>
		<p>つまり「0番のアニメーションIDが時々動作する」といった意味になります。</p>
	</div>
	<div class="passage">
		<p>続けてアニメーションを構成する静止画一枚一枚の定義を行います。</p>
		<p>それぞれpattern0、pattern1、pattern2というように順番に書いていきます。パターン番号の抜け・重複はできません。</p>
		<p>また、先頭に同じアニメーション群のID（animation*）を入れるのを忘れないで下さい。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript2">
animation0.pattern0,<em class="filename">overlayfast</em>,100,5,0,0
</pre>
		<p>overlayfastの部分は描画方法です。</p>
		<p>overlayfastとは元の画像の上に重ねて画像を表示する命令です。</p>
		<p>ただし、重ねる画像が下になっている画像の描画から出てしまう場合はoverlayを使います。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript2">
animation0.pattern0,overlayfast,<em class="filename">100</em>,5,0,0
</pre>
		<p>100という部分はsurface100.pngの画像が使われます。</p>
		<p>101とすればsurface101.pngの画像ということです。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript2">
animation0.pattern0,overlayfast,100,<em class="filename">5</em>,0,0
</pre>
		<p>5の部分は表示時間（ミリセカンド）です。</p>
		<p>その画像に切り替わるまでの時間を指定してください。</p>
	</div>
	<div class="passage">
<pre class="exmp-descript2">
animation0.pattern0,overlayfast,100,5,<em class="filename">0,0</em>
</pre>
		<p>最後の0,0の部分は画像の始点です。</p>
		<p>元の画像からどれだけXY座標をずらして表示するか指定します。</p>
	</div>
	<div class="passage">
		<p>画像の番号を-1にするとそのパターンを非表示にすることができます。</p>
	</div>
</section>
<section>
	<h1>3c、surfaces.txtを書く - element合成編</h1>
</section>
<section>
	<h1>3d、surfaces.txtを書く - そのほかの設定編</h1>
</section>
<section>
	<h1>4、readme.txtを書く</h1>
	<div class="passage">
		<p>readme.txtというファイルがあるとオーナードローメニューのシェル選択にあるReadMe!という項目を選択した時に表示できます。</p>
		<p>シェルの説明や連絡事項など必要な事があれば記入してください。</p>
		<p>特に無い場合はreadme.txtは無くても構いません。</p>
		<p>ゴーストの作者とシェル作者が異なる場合などは、連絡先を明記した方がよいかもしれません。</p>
	</div>
		<div class="passage">
		<p>reamdeも他のファイル同様、1行目にcharset,UTF-8と書いておくか、BOMを含んでおけばShift JIS以外も使えます。</p>
	</div>
</section>
<section>
	<h1>5、サムネイル画像を作る</h1>
	<div class="passage">
		<p>オーナードローメニューのシェル選択時に表示される画像です。</p>
		<p>シェルが複数あるなどして一目でわかりやすくしたい場合などに使用します。</p>
		<p>シェルがmasterのみ等の場合は必要無いと思います。</p>
	</div>
	<div class="passage">
		<p>thumbnail.pngという画像が同じフォルダに入っていれば自動的に使用されます。</p>
		<p>ファイル名をthumbnail.pnrとするとサーフェスのように左上1ピクセルと同じ色を透明にして表示させます。</p>
	</div>
</section>
<!-- /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->



		</section>
	</section>
	<footer>
		<p class="author">
			管理人 : <a href="http://code.google.com/p/ukadoc/" target="_blank">UKADOC Project</a>
		</p>
		<p class="banner">
			<img src="image/ukadoc_banner1.png" width="200" height="40" alt="ukadocバナー">
		</p>
	</footer>
</section>
</body>
</html>
<!--nobanner-->

